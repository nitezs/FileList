<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta
			http-equiv="X-UA-Compatible"
			content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>文件</title>
		<link
			rel="stylesheet"
			href="/style.css" />
	</head>

	<script src="/axios.min.js"></script>
	<script src="/home.js"></script>

	<body class="bg-gray-100 w-full h-screen pt-7">
		<div class="w-full container mx-auto">
			<ul class="mx-3 mb-3 flex gap-1">
				<% for(let p of path){%>
				<li>/</li>
				<li><a href="<%=p.link%>"><%=p.path%></a></li>
				<%}%>
			</ul>
			<div
				class="w-full px-1 rounded-xl shadow-lg shadow-gray-200 py-3 bg-white flex flex-col items-center justify-center">
				<ul class="w-full">
					<li
						class="px-3 flex flex-row w-full text-gray-500 text-sm font-bold my-2">
						<div class="flex flex-row w-full">
							<div class="w-full overflow-hidden">文件名</div>
							<div class="flex-shrink-0 hidden sm:block sm:w-24">大小</div>
							<div class="flex-shrink-0 hidden sm:block sm:w-48">修改日期</div>
						</div>
						<div class="w-24 flex-shrink-0">
							<div>操作</div>
						</div>
					</li>
					<% if (list) { for (let s of list) {%>
					<li
						class="px-3 rounded-lg hover:bg-gray-200 transition-all duration-150 h-8 leading-8 flex flex-row align-middle w-full">
						<a
							class="w-full overflow-hidden whitespace-nowrap flex flex-row justify-starts items-center"
							href="<%=s.shortPath%>">
							<div class="overflow-hidden w-full flex flex-row items-center">
								<%if(s.isDir){%>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									viewBox="0 0 24 24"
									stroke-width="1.5"
									stroke="currentColor"
									class="w-5 h-5 flex-shrink-0">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
								</svg>
								<%}else{%>
								<svg
									xmlns="http://www.w3.org/2000/svg"
									fill="none"
									viewBox="0 0 24 24"
									stroke-width="1.5"
									stroke="currentColor"
									class="w-5 h-5 flex-shrink-0">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
								</svg>
								<%}%>
								<div class="ml-1 overflow-hidden text-ellipsis">
									<%=s.name%>
								</div>
							</div>
							<div class="hidden flex-shrink-0 w-24 sm:block whitespace-nowrap">
								<%=s.sizeStr%>
							</div>
							<div
								class="hidden flex-shrink-0 w-48 sm:block whitespace-nowrap overflow-hidden text-ellipsis">
								<%=s.modifiedTime%>
							</div>
						</a>
						<div class="w-24 flex-shrink-0">
							<a
								class="hover:bg-blue-500 duration-150 transition-all box-border p-1 bg-blue-400 rounded-lg text-white text-sm"
								href="javascript:void(0)"
								onclick="rm(this)"
								data-path="<%=s.shortPath%>"
								>删除</a
							>
							<a
								class="hover:bg-blue-500 duration-150 transition-all box-border p-1 bg-blue-400 rounded-lg text-white text-sm"
								href="javascript:void(0)"
								onclick="gd(this)"
								data-path="<%=s.shortPath%>"
								>外链</a
							>
						</div>
					</li>
					<%}}%>
				</ul>
			</div>
		</div>
	</body>
</html>
